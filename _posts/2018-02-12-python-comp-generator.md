---
title: 容器对象的推导方式和元组生成器表达式
author: Jie Chen
date: 2018-02-12
categories: [Python]
tags: []
---

使用推导语法可以快速地产生容器系列的对象，比如list，set，dict，tuple。由此出现了列表推导，集合推导，字典推导和元组推导（生成器表达式）

## 列表推导

比如一个最简单的列表推导，将逗号分隔的字符串组成列表。

~~~
str = '0,1,2,3,4,5,6,7,8,9'
list1 = [i for i in str.split(',')]
xprint(list1)
~~~
~~~
type:<class 'list'>,id:2486205385608,value:['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']
~~~

如果希望列表元素是整数，而不是字符，可以对推导语法的结果添加函数int

~~~
str = '0,1,2,3,4,5,6,7,8,9'
list2 = [int(i) for i in str.split(',')]
xprint(list2)
~~~
~~~
type:<class 'list'>,id:2486205385544,value:[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
~~~

### 带条件过滤的列表推导

推导过程中也可以加入条件过滤，比如只生成偶数序列的列表

~~~
str = '0,1,2,3,4,5,6,7,8,9'
list3 = [int(i) for i in str.split(',') if int(i)%2==0]
xprint(list3)
~~~
~~~
type:<class 'list'>,id:2486205385480,value:[0, 2, 4, 6, 8]
~~~

### 二维矩阵列表

矩阵列表，相当于的列表的嵌套列表

~~~
str = '0,1,2,3,4,5,6,7,8,9'
list4 = [[int(i) for i in str.split(',')] for i in str.split(',')]
for r in list4:
    print(r)
~~~
~~~
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
type:<class 'list'>,id:2486205385416,value:[[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]]
~~~
